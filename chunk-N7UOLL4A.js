import{a as G}from"./chunk-CHA42G6I.js";import{a as x,b as f,c as E,d as P,h as y,i as T,j as k,o as A,q as N}from"./chunk-TFVZPYNB.js";import{g as h,h as w}from"./chunk-WCUZEMMZ.js";import"./chunk-3KKYHT4Q.js";import{i as b,o as S}from"./chunk-UMW4BRA5.js";import{Cb as C,Db as _,La as r,Mb as l,Qa as u,Wa as g,Wb as F,lb as m,mb as d,qb as c,rb as i,sb as o,tb as p}from"./chunk-LR54IM5D.js";var L=e=>({"is-invalid":e});function D(e,n){e&1&&(i(0,"div",6),l(1," \u2705 Email found! A reset link has been sent (simulation). "),o())}function R(e,n){e&1&&(i(0,"div",7),l(1," \u274C Email not found. Please try again. "),o())}function B(e,n){e&1&&(i(0,"span"),l(1,"Email is required."),o())}function M(e,n){e&1&&(i(0,"span"),l(1,"Enter a valid email."),o())}function j(e,n){if(e&1&&(i(0,"div",12),m(1,B,2,0,"span"),m(2,M,2,0,"span"),o()),e&2){let a,t,s=_();r(),d((a=s.resetForm.get("email"))!=null&&a.errors.required?1:-1),r(),d((t=s.resetForm.get("email"))!=null&&t.errors.email?2:-1)}}function q(e,n){e&1&&(i(0,"span"),l(1,"Send Reset Link"),o())}function O(e,n){e&1&&p(0,"span",15)}var I=class e{constructor(n,a){this.fb=n;this.authService=a}resetForm;loading=!1;success=null;ngOnInit(){this.resetForm=this.fb.group({email:["",[f.required,f.email]]})}onSubmit(){if(this.resetForm.valid){let n=this.resetForm.get("email")?.value;this.loading=!0,this.authService.resetPassword(n).subscribe({next:a=>{this.loading=!1,this.success=a},error:()=>{this.loading=!1,this.success=!1}})}else this.resetForm.markAllAsTouched()}static \u0275fac=function(a){return new(a||e)(u(A),u(G))};static \u0275cmp=g({type:e,selectors:[["app-forgot-password"]],decls:22,vars:10,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card","shadow","rounded-4"],[1,"card-body","p-4"],[1,"text-center","mb-4","fw-bold","text-warning"],[1,"alert","alert-success","text-center"],[1,"alert","alert-danger","text-center"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[1,"d-grid","mb-3"],["type","submit",1,"btn","btn-warning",3,"disabled"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"text-center"],["routerLink","/login","routerLinkActive","active",1,"text-decoration-none"]],template:function(a,t){if(a&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),l(6,"Forgot Password"),o(),m(7,D,2,0,"div",6),m(8,R,2,0,"div",7),i(9,"form",8),C("ngSubmit",function(){return t.onSubmit()}),i(10,"div",9)(11,"label",10),l(12,"Email address"),o(),p(13,"input",11),m(14,j,3,2,"div",12),o(),i(15,"div",13)(16,"button",14),m(17,q,2,0,"span"),m(18,O,1,0,"span",15),o()(),i(19,"div",16)(20,"a",17),l(21,"\u2190 Back to Login"),o()()()()()()()()),a&2){let s,v;r(7),d(t.success===!0?7:-1),r(),d(t.success===!1?8:-1),r(),c("formGroup",t.resetForm),r(4),c("ngClass",F(8,L,((s=t.resetForm.get("email"))==null?null:s.invalid)&&((s=t.resetForm.get("email"))==null?null:s.touched))),r(),d((v=t.resetForm.get("email"))!=null&&v.errors?14:-1),r(2),c("disabled",t.loading||t.resetForm.invalid),r(),d(t.loading?-1:17),r(),d(t.loading?18:-1)}},dependencies:[S,b,N,y,x,E,P,T,k,h,w],encapsulation:2})};export{I as ForgotPasswordComponent};
