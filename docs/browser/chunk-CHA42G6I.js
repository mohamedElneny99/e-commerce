import{a as l}from"./chunk-3KKYHT4Q.js";import{G as n,aa as p,ea as g,t as s,x as i}from"./chunk-LR54IM5D.js";var u=class a{constructor(e){this.http=e}isLoggedin=!1;apiKey="AIzaSyCvMnR3uIh_7KTmEUk1wyQN52Bm5IKjbqs";login(e,r){let o=`https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${this.apiKey}`;return this.http.post(o,{email:e,password:r,returnSecureToken:!0}).pipe(i(t=>(this.isLoggedin=!0,localStorage.setItem("user",JSON.stringify(t)),t)),n(t=>(this.isLoggedin=!1,s(()=>t.error?.error?.message||"Login failed"))))}signup(e,r){let o=`https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${this.apiKey}`;return this.http.post(o,{email:e,password:r,returnSecureToken:!0}).pipe(i(t=>t),n(t=>s(()=>t.error?.error?.message||"Signup failed")))}resetPassword(e){let r=`https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=${this.apiKey}`;return this.http.post(r,{requestType:"PASSWORD_RESET",email:e}).pipe(i(o=>o),n(o=>s(()=>o.error?.error?.message||"Password reset failed")))}logout(){this.isLoggedin=!1,localStorage.removeItem("user")}getLoggedInUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}static \u0275fac=function(r){return new(r||a)(g(l))};static \u0275prov=p({token:a,factory:a.\u0275fac,providedIn:"root"})};export{u as a};
