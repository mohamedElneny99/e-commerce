import{a as E}from"./chunk-QGRUGUWR.js";import{d as T,g as k}from"./chunk-WCUZEMMZ.js";import"./chunk-3KKYHT4Q.js";import{l as D}from"./chunk-UMW4BRA5.js";import{Ab as P,Cb as _,Db as u,Ja as S,La as n,Mb as a,Nb as h,Ob as d,Qa as m,Wa as y,Wb as f,aa as I,j as g,lb as p,ma as C,mb as v,na as b,qb as l,rb as o,sb as r,tb as w}from"./chunk-LR54IM5D.js";var x=class e{cartItems=[];cartCount=new g(0);cartCount$=this.cartCount.asObservable();addToCart(i){this.cartItems.push(i),this.cartCount.next(this.cartItems.length)}getCartItems(){return this.cartItems}clearCart(){this.cartItems=[],this.cartCount.next(0)}removeFromCart(i){this.cartItems=this.cartItems.filter(t=>t.id!==i),this.cartCount.next(this.cartItems.length)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};var V=e=>({color:e}),j=e=>["/product",e];function A(e,i){if(e&1){let t=P();o(0,"div",7)(1,"div",11)(2,"div",12),a(3),r(),o(4,"button",13),_("click",function(){C(t);let s=u(2);return b(s.showToast=!1)}),r()()()}if(e&2){let t=u(2);n(3),h(t.toastMessage)}}function L(e,i){if(e&1){let t=P();o(0,"div")(1,"div",0),w(2,"img",1),o(3,"div",2)(4,"h5",3),a(5),r(),o(6,"p",4),a(7),r(),o(8,"p",4),a(9),r(),o(10,"p",4),a(11),r(),o(12,"p",4),a(13),r(),o(14,"p",4),a(15),r(),o(16,"p",5),a(17),r(),o(18,"button",6),_("click",function(){C(t);let s=u();return b(s.addToCart(s.selectedProduct))}),a(19,"Add to Cart"),r(),p(20,A,5,1,"div",7),r()(),o(21,"div",8)(22,"button",9),a(23," \u2B05 Previous Product "),r(),o(24,"button",10),a(25," Next Product \u27A1 "),r()()()}if(e&2){let t=u();n(2),l("src",t.selectedProduct.imageUrl,S)("alt",t.selectedProduct.name),n(3),h(t.selectedProduct.name),n(2),d("Brand: ",t.selectedProduct.brand),n(2),d("Category: ",t.selectedProduct.category),n(2),d("Color: ",t.selectedProduct.color),n(2),d("Gender: ",t.selectedProduct.gender),n(2),d("Price: $",t.selectedProduct.price),n(),l("ngStyle",f(14,V,t.selectedProduct.is_in_inventory?"green":"red")),n(),d(" ",t.selectedProduct.is_in_inventory?"In Stock":"Out of Stock"," "),n(3),v(t.showToast?20:-1),n(2),l("routerLink",f(16,j,t.selectedProduct.id-1))("disabled",t.selectedProduct.id<=1),n(2),l("routerLink",f(18,j,t.selectedProduct.id+1))}}function O(e,i){e&1&&(o(0,"div")(1,"p"),a(2,"Product not found."),r()())}var F=class e{constructor(i,t,c){this.productService=i;this.activateRoute=t;this.cartService=c}selectedProduct;itemId;toastMessage="";showToast=!1;ngOnInit(){this.activateRoute.paramMap.subscribe(i=>{let t=i.get("id");this.itemId=t?+t:-1;let c=this.productService.getProducts();this.selectedProduct=c.find(s=>s.id===this.itemId)})}addToCart(i){this.cartService.addToCart(i),this.toastMessage=`${i.name} added to cart!`,this.showToast=!0,setTimeout(()=>this.showToast=!1,3e3)}static \u0275fac=function(t){return new(t||e)(m(E),m(T),m(x))};static \u0275cmp=y({type:e,selectors:[["app-product-details"]],decls:2,vars:2,consts:[[1,"card","mt-4"],[1,"card-img-top",2,"height","180px","object-fit","contain",3,"src","alt"],[1,"card-body",2,"text-align","center"],[1,"card-title"],[1,"card-text"],[1,"card-text",3,"ngStyle"],[1,"btn","btn-primary",3,"click"],[1,"toast","show","position-fixed","top-0","end-0","p-3",2,"z-index","1055","background-color","#493cc0","color","rgb(42, 234, 77)","border-radius","8px"],[1,"d-flex","justify-content-between","mt-3"],[1,"btn","btn-danger",3,"routerLink","disabled"],[1,"btn","btn-warning",3,"routerLink"],[1,"d-flex"],[1,"toast-body"],["type","button",1,"btn-close","btn-close-white","ms-2","me-2","m-auto",3,"click"]],template:function(t,c){t&1&&(p(0,L,26,20,"div"),p(1,O,3,0,"div")),t&2&&(v(c.selectedProduct?0:-1),n(),v(c.selectedProduct?-1:1))},dependencies:[D,k],encapsulation:2})};export{F as ProductDetailsComponent};
