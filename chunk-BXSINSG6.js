import{k as H,q as J}from"./chunk-YP2G7UZ7.js";import{a as K}from"./chunk-QGRUGUWR.js";import{a as W,c as q,g as z,p as G}from"./chunk-TFVZPYNB.js";import{d as U,g as j,k as $}from"./chunk-WCUZEMMZ.js";import"./chunk-3KKYHT4Q.js";import{i as R,l as V,o as O}from"./chunk-UMW4BRA5.js";import{Ab as S,Cb as w,Db as d,Ja as M,La as r,Mb as c,Nb as P,Ob as m,Pb as I,Qa as p,Qb as E,Rb as B,Sb as F,Tb as N,Vb as A,Wa as k,Wb as f,Xb as D,a as L,b as T,lb as v,ma as g,mb as h,na as _,nb as C,ob as b,pb as x,qb as s,rb as o,sb as n,tb as y}from"./chunk-LR54IM5D.js";var X=e=>({color:e}),Y=()=>[1,2,3,4,5],Z=e=>["/buy",e],tt=e=>["/product",e],et=(e,i)=>({"bi-star-fill":e,"bi-star":i});function it(e,i){if(e&1){let t=S();o(0,"div",0)(1,"div",4)(2,"div",5),c(3),n(),o(4,"button",6),w("click",function(){g(t);let u=d();return _(u.showToast=!1)}),n()()()}if(e&2){let t=d();r(3),P(t.toastMessage)}}function ot(e,i){if(e&1&&y(0,"i",15),e&2){let t=i.$implicit,a=d().$implicit;s("ngClass",D(1,et,t<=a.rating,t>a.rating))}}function rt(e,i){if(e&1){let t=S();o(0,"div",3)(1,"div",7),y(2,"img",8),o(3,"div",9)(4,"h5",10),c(5),n(),o(6,"p",11),c(7),n(),o(8,"p",12),c(9,"Price: "),o(10,"strong"),c(11),n()(),o(12,"p",12),c(13),n(),o(14,"p",13),c(15),n(),o(16,"div",14),b(17,ot,1,4,"i",15,C),n()(),o(19,"div",16)(20,"button",17),w("click",function(){let u=g(t).$implicit,l=d();return _(l.addToCart(u))}),c(21," Add to Cart "),n(),o(22,"button",18),c(23," Buy Now "),n(),o(24,"button",18),c(25," Details "),n()()()()}if(e&2){let t=i.$implicit;r(2),s("alt",N(t.name))("src",t.imageUrl,M),r(3),P(t.name),r(2),I(" ",t.gender," \u2022 ",t.category," \u2022 ",t.brand," "),r(4),m("$",t.price),r(2),m("",t.color.length," colors \u2022 Best Seller"),r(),s("ngStyle",f(13,X,t.is_in_inventory?"green":"red")),r(),m(" ",t.is_in_inventory?"Available in stock":"Not available"," "),r(2),x(A(15,Y)),r(5),s("routerLink",f(16,Z,t.id)),r(2),s("routerLink",f(18,tt,t.id))}}function nt(e,i){e&1&&(o(0,"p"),c(1,"No results found."),n())}var Q=class e{constructor(i,t,a){this.productService=i;this.activeRoute=t;this.store=a}isLoading=!1;searchBar="";searchUrl="";showToast=!1;toastMessage="";products=[];ngOnInit(){this.activeRoute.queryParamMap.subscribe(i=>{this.searchUrl=i.search,this.searchUrl?this.products=this.productService.getProducts().filter(t=>t.name.toLowerCase().includes(this.searchUrl.toLowerCase())):this.products=this.productService.getProducts()})}filteredProducts(){let i=this.searchBar.trim().toLowerCase();return i?this.products.filter(t=>t.name.toLowerCase().includes(i)||t.brand.toLowerCase().includes(i)||t.category.toLowerCase().includes(i)):this.products}addToCart(i){let t=T(L({},i),{quantity:1});this.store.dispatch(J({item:t})),this.toastMessage=`${i.name} added to cart!`,this.showToast=!0,setTimeout(()=>this.showToast=!1,3e3)}static \u0275fac=function(t){return new(t||e)(p(K),p(U),p(H))};static \u0275cmp=k({type:e,selectors:[["app-product-list"]],decls:6,vars:3,consts:[[1,"toast","show","position-fixed","top-0","end-0","p-3",2,"z-index","1055","background-color","#198754","color","white","border-radius","8px"],["type","text","placeholder","\u0627\u0628\u062D\u062B \u0639\u0646 \u0645\u0646\u062A\u062C...",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"row","g-4"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],[1,"d-flex"],[1,"toast-body"],["type","button",1,"btn-close","btn-close-white","ms-2","me-2","m-auto",3,"click"],[1,"card","shadow-lg","h-100"],[1,"card-img-top",2,"height","180px","object-fit","contain",3,"src","alt"],[1,"card-body","d-flex","flex-column","justify-content-between"],[1,"card-title"],[1,"card-text","text-muted"],[1,"card-text"],[1,"card-text",3,"ngStyle"],[1,"mb-2"],[1,"bi",2,"color","gold",3,"ngClass"],[1,"card-footer","bg-transparent","border-top-0"],[1,"btn","btn-outline-primary","w-100",3,"click"],[1,"btn","btn-outline-primary","w-50","mt-3",3,"routerLink"]],template:function(t,a){t&1&&(v(0,it,5,1,"div",0),o(1,"input",1),F("ngModelChange",function(l){return B(a.searchBar,l)||(a.searchBar=l),l}),n(),o(2,"div",2),b(3,rt,26,20,"div",3,C),v(5,nt,2,0,"p"),n()),t&2&&(h(a.showToast?0:-1),r(),E("ngModel",a.searchBar),r(2),x(a.filteredProducts()),r(2),h(a.filteredProducts().length===0?5:-1))},dependencies:[G,W,q,z,O,R,V,$,j],styles:[".card[_ngcontent-%COMP%]:hover{transform:scale(1.03);transition:all .3s ease-in-out;cursor:pointer}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#0d6efd;color:#fff;border-color:#0d6efd;transition:all .3s ease}button[_ngcontent-%COMP%]{transition:all .3s ease}"]})};export{Q as ProductListComponent};
